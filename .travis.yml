language: android
env:
  global:
    - COVERALLS_REPO_TOKEN=G9z0eVAj79N9vFqPEJGS3XBeStsTrWzqG
    - CODECOV_TOKEN="8942fd6b-2782-45b7-8842-aa97ca17d230"
android:
  components:
    - tools
    - build-tools-24.0.1
    - android-24
    - platform-tools
    - extra-android-support # because I'm use support library
    - extra-android-m2repository # because I'm use support library
  licenses:
    - '.+'
language: java

addons:
  sonarcloud:
    organization: "sankarvijay-github"
    token:
      secure: "CDodRcKaV1mK6MdR5GwUHheyOfrXzA6XWHcQYK6RNUwAR+GZjPcteTFfJns5+nEKla03NsD4fTm1a6yj2CnDwXS899hKGmD5EMJoLY75TRcJIJc4prHInfk/TQhMHDKhwagaJgnWbhGUXwA/w9Gar+y+lGyjeaHZZtnkQteX2TnylcbjR6MkMBk83uEkSTcmIp1zoCCeSakHhlp61Oeb8WsbYE5gmtBrCc6EivrcLnILyHEnZOnlaQBpPOWBA+vZpjqJNyMK3PpJRDCuybtgHSu+HgpzCjF32BclZodCLMx4w0RtBWtmQJJRwVoduG3QH8K12A0uYCVGxffEWWHGwmEBgyCHOo3wR75pRypQ9KEF2BvzMGh/iOTLOxXbeXxiLGS4gHXYYoF6PuxLxY46d6/g50hqu+2oqWw3AJq4iBATSjhZ9K9fv9eFfvVpKhB+zTEtdB0hI65K8HZz2TtqNfMdBIiI+5aJGSKw5+ne5VdgIOtr7hFepURxbyXs5/kUwukyLvumm0CUYeknFYyFypBY4+1bGtWaoZo5TRzROchX67oNrS3MmSJ2nogy8kpqlMH8uc0Uiv/BcevfZC8DDSRCo2B9TZ7cwuXQM8vcCI7Df0UWXfhRZhQuk/MpRfdpahoDMMnMqsVF0aez91bV2lY8ZqtpE23Xxuvzn1uMLN8="

sudo: false

jdk:
  - oraclejdk8

install: true

before_script:
    - chmod +x ./gradlew

script:
  - ./gradlew check
  - ./gradlew build jacocoTestReport coveralls cobertura sendCoverageToCodacy

cache:
  directories:
    $HOME/.m2/repository
    $HOME/.sonar/cache
    $HOME/.gradle
    .gradle

after_success:
  - bash <(curl -s https://codecov.io/bash)

notifications:
email: sankar.vijay@hotmail.com
